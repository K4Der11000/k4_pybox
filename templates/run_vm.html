<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ISO Emulator Interface</title>
    <script src="{{ url_for('static', filename='v86/v86.js') }}"></script>
</head>
<body style="background: #000; color: #0f0; font-family: monospace; text-align: center;">
    <h2>Loading ISO: {{ iso_file }}</h2>
    <div id="emulator" style="width: 800px; height: 600px; margin: auto; background: #222;"></div>

    <script>
        const emulator = new V86Starter({
            wasm_path: "{{ url_for('static', filename='v86/v86.wasm') }}",
            memory_size: {{ ram_mb }} * 1024 * 1024,
            vga_memory_size: 8 * 1024 * 1024,
            screen_container: document.getElementById("emulator"),
            bios: {
                url: "{{ url_for('static', filename='v86/bios/seabios.bin') }}"
            },
            vga_bios: {
                url: "{{ url_for('static', filename='v86/bios/vgabios.bin') }}"
            },
            cdrom: {
                url: "{{ url_for('uploaded_file', filename=iso_file) }}"
            },
            autostart: true
        });
    </script>
</body>
</html>
